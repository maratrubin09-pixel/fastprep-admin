# PR2: Pinned Messages (–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend:
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `202_pins.sql`:
  - –ö–æ–ª–æ–Ω–∫–∏: `is_pinned`, `pinned_at`, `pinned_by`, `pinned_order`
  - Unique index –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞
- ‚úÖ –ú–µ—Ç–æ–¥—ã –≤ `InboxService`:
  - `pinMessage(messageId, userId, order?)` - –∑–∞–∫—Ä–µ–ø–∏—Ç—å (–º–∞–∫—Å–∏–º—É–º 5 –Ω–∞ —á–∞—Ç)
  - `unpinMessage(messageId)` - –æ—Ç–∫—Ä–µ–ø–∏—Ç—å
  - `getPinnedMessages(conversationId)` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ø 5 –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö
- ‚úÖ Endpoints:
  - `POST /api/inbox/messages/:id/pin`
  - `DELETE /api/inbox/messages/:id/pin`
  - `GET /api/inbox/conversations/:id/pinned`

### Frontend:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Pin" –≤ actions menu —Å–æ–æ–±—â–µ–Ω–∏—è (–∏–∫–æ–Ω–∫–∞ –±—É–ª–∞–≤–∫–∏)
- ‚úÖ –°–µ–∫—Ü–∏—è "Pinned Messages" –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ö–ª–∏–∫ –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
2. –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –ø–æ—è–≤–∏—Ç—Å—è –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π
3. –ù–∞–∂–º–∏—Ç–µ –∏–∫–æ–Ω–∫—É –±—É–ª–∞–≤–∫–∏ (üìå) - —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–∫—Ä–µ–ø–∏—Ç—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ü–∏—é "Pinned Messages" –≤–≤–µ—Ä—Ö—É —á–∞—Ç–∞
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–∫—Ä–µ–ø–∏—Ç—å 6-–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É (–ª–∏–º–∏—Ç 5)
6. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É
7. –û—Ç–∫—Ä–µ–ø–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –Ω–∞–∂–∞—Ç–∏–µ–º –Ω–∞ –±—É–ª–∞–≤–∫—É

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

[–î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç —Å–µ–∫—Ü–∏–∏ Pinned Messages]

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ù–µ—Ç unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è pin/unpin –ª–æ–≥–∏–∫–∏
- –ù–µ—Ç e2e —Ç–µ—Å—Ç–æ–≤ –¥–ª—è flow –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è

