# üìã –û—Ç—á–µ—Ç –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –§–∞–∑—ã 1 - MVP

**–î–∞—Ç–∞:** 27 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** v1.1.0-phase1-complete  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- **phase1-0**: –ü–µ—Ä–µ–≤–µ–¥–µ–Ω—ã `admin-api` –∏ `admin-worker` –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Starter ($7/–º–µ—Å –∫–∞–∂–¥—ã–π) –≤ Render
  - –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É suspend/resume –Ω–∞ Free –ø–ª–∞–Ω–µ
  - –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É WebSocket –∏ Telegram —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (1.1)
- **phase1-1**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - `messages.controller.ts`: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ —Ç–æ–ª—å–∫–æ ID)
  - `inbox.service.ts`: `createOutgoingMessage` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
  - API –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 201 Created —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

- **phase1-2**: UX-—É–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `InboxPage.js`: –°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ UI —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
  - –°—Ç–∞—Ç—É—Å "queued" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π —Å–µ—Ä–æ–π –≥–∞–ª–æ—á–∫–æ–π (‚úì)
  - –°—Ç–∞—Ç—É—Å "sent" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–≤—É–º—è —Å–µ—Ä—ã–º–∏ –≥–∞–ª–æ—á–∫–∞–º–∏ (‚úì‚úì)
  - –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ `last_message_at`

- **phase1-3**: –£–º–µ–Ω—å—à–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ Worker polling
  - `worker.service.ts`: –ó–∞–¥–µ—Ä–∂–∫–∞ —É–º–µ–Ω—å—à–µ–Ω–∞ —Å 5 —Å–µ–∫ –¥–æ 1 —Å–µ–∫
  - –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ (–≤ —Å—Ä–µ–¥–Ω–µ–º 1-2 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 5 —Å–µ–∫)

### ‚úÖ WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1.2)
- **phase1-4**: WsGateway –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `new_message` –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤—Ö–æ–¥—è—â–µ–≥–æ
  - `telegram-events.controller.ts`: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `WsGateway`
  - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç Telegram –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è WebSocket —Å–æ–±—ã—Ç–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º
  - –°–æ–±—ã—Ç–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `conversationId` –∏ `message`

- **phase1-5**: WsGateway –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `message_status_update` –∫–æ–≥–¥–∞ Worker –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ
  - `worker.service.ts`: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `notifyMessageStatusUpdate`
  - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ Worker –≤—ã–∑—ã–≤–∞–µ—Ç API endpoint `/api/inbox/events/message-status`
  - `telegram-events.controller.ts`: –ù–æ–≤—ã–π endpoint –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞
  - WsGateway —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `message_status_update` –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º

- **phase1-6**: Socket.IO –∫–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ InboxPage.js
  - `frontend/package.json`: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `socket.io-client@^4.7.2`
  - `InboxPage.js`: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π `new_message` –∏ `message_status_update`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

- **phase1-7**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Ç–æ–≤
  - `InboxPage.js`: –ß–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `last_message_at`
  - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–≤–µ—Ä—Ö —Å–ø–∏—Å–∫–∞
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ, —Ç–∞–∫ –∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### ‚úÖ –ò–º–µ–Ω–∞ —á–∞—Ç–æ–≤ (1.4)
- **phase1-8**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–ª–æ–Ω–∫–∏ –≤ `conversations`
  - `init-db.controller.ts`: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç `chat_title`, `chat_type`, `participant_count`
  - Endpoint: `POST /api/init-db/migrate`

- **phase1-9**: –ò–º–µ–Ω–∞ —á–∞—Ç–æ–≤ –ø—Ä–æ–∫–∏–Ω—É—Ç—ã —á–µ—Ä–µ–∑ –≤—Å—é —Ü–µ–ø–æ—á–∫—É
  - `inbox.service.ts`: `findOrCreateThread` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `chat_title`, `chat_type`
  - `telegram-events.controller.ts`: –ü–µ—Ä–µ–¥–∞–µ—Ç `chat_title` –∏ `chat_type` –∏–∑ —Å–æ–±—ã—Ç–∏—è
  - `InboxPage.js`: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `chat_title` –≤–º–µ—Å—Ç–æ `external_chat_id` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
  - –ò–º–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤, —Ç–∞–∫ –∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —á–∞—Ç–∞

### ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î (1.3)
- **phase1-10**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - `idx_conversations_last_message_at`: –£—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
  - `idx_messages_conversation_id_created_at`: –£—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ
  - `idx_outbox_status_scheduled_at`: –£—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫ –∑–∞–¥–∞—á Worker'–æ–º
  - Endpoint: `POST /api/init-db/migrate`

### ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ (1.5)
- **phase1-11**: –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ debug-–ª–æ–≥–∏ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
  - `telegram-events.controller.ts`: –£–¥–∞–ª–µ–Ω—ã –ª–æ–≥–∏ —Å `SERVICE_JWT`, raw body
  - `ServiceJwtGuard`: –£–¥–∞–ª–µ–Ω—ã –ª–æ–≥–∏ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
  - –£–¥–∞–ª–µ–Ω –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π endpoint `/api/inbox/events/debug/env`

- **phase1-13**: –£–¥–∞–ª–µ–Ω –≤–µ—Å—å –º–µ—Ä—Ç–≤—ã–π –∫–æ–¥ WhatsApp
  - –£–¥–∞–ª–µ–Ω `test-whatsapp-server.js`
  - –£–¥–∞–ª–µ–Ω `src/messengers/whatsapp/whatsapp.service.ts`
  - –£–¥–∞–ª–µ–Ω `WHATSAPP_STABILIZATION_REPORT.md`
  - –£–¥–∞–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `@whiskeysockets/baileys`, `qrcode`, `@types/qrcode`
  - –û—á–∏—â–µ–Ω `render.yaml`: —É–¥–∞–ª–µ–Ω—ã `BAILEYS_DIR` –∏ `baileys-data` disk

### ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (1.5)
- **phase1-12**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–µ—Ç—Ä–∏–∫–∞ `telegram_connection_status`
  - `telegram.service.ts`: Prometheus Gauge –º–µ—Ç—Ä–∏–∫–∞
  - –ó–Ω–∞—á–µ–Ω–∏—è: 1 = –ø–æ–¥–∫–ª—é—á–µ–Ω–æ, 0 = –æ—Ç–∫–ª—é—á–µ–Ω–æ/–æ—à–∏–±–∫–∞
  - –ú–µ—Ç—Ä–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏, –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –∏ –æ—à–∏–±–∫–∞—Ö
  - –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è Grafana/Prometheus –Ω–∞ –ø–æ—Ä—Ç—É Worker'–∞ (9090)

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 1

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. **API (NestJS)** - `fastprep-admin-api` (Render Starter)
   - REST API endpoints
   - WebSocket Gateway (Socket.IO)
   - JWT Authentication
   - Authorization (PepGuard)

2. **Worker (NestJS)** - `fastprep-admin-worker` (Render Starter)
   - Outbox polling (1 —Å–µ–∫)
   - Telegram Client (gramjs)
   - Prometheus metrics (–ø–æ—Ä—Ç 9090)
   - Persistent disk: `/var/data/tdlib` (1GB)

3. **Frontend (React)** - `fastprep-admin-frontend` (Render Static)
   - Material-UI
   - Socket.IO Client
   - Real-time updates

4. **PostgreSQL** - `fastprep-postgres` (Render Basic 1GB)
   - –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
   - –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

5. **Redis** - `fastprep-redis` (Render Starter)
   - Session cache
   - Permissions cache
   - Redis Pub/Sub –¥–ª—è WebSocket

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

#### –í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Telegram ‚Üí UI)
```
Telegram ‚Üí Worker (gramjs) ‚Üí API (/api/inbox/events/telegram) 
‚Üí DB (conversations, messages) ‚Üí WsGateway (new_message) 
‚Üí Frontend (Socket.IO) ‚Üí UI update
```

#### –ò—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (UI ‚Üí Telegram)
```
UI ‚Üí API (/api/inbox/conversations/:id/messages) 
‚Üí DB (messages, outbox) ‚Üí –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç 201 
‚Üí UI (–¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "queued")

Worker (polling 1 —Å–µ–∫) ‚Üí outbox ‚Üí Telegram (gramjs) 
‚Üí DB (update status='sent') ‚Üí API (/api/inbox/events/message-status) 
‚Üí WsGateway (message_status_update) ‚Üí Frontend ‚Üí UI update (‚úì‚úì)
```

---

## üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
```bash
# –í –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ —á–µ—Ä–µ–∑ curl:
curl -X POST https://fastprep-admin-api.onrender.com/api/init-db/migrate
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
```bash
cd frontend
npm install
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render
- ‚úÖ `SERVICE_JWT` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –≤ API –∏ Worker
- ‚úÖ `REDIS_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Add from service" (–Ω–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π URL)
- ‚úÖ `IS_WORKER=true` –≤ Worker
- ‚úÖ `TG_API_ID`, `TG_API_HASH` –≤ Worker

### 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- API –∏ Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—è—Ç—Å—è –ø—Ä–∏ push –≤ GitHub
- Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç—Å—è

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **Telegram Authentication**: –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ `npm run start:tg-login` –≤ Render Shell
2. **Worker Singleton**: –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω Worker –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ –æ–¥–∏–Ω Telegram –∞–∫–∫–∞—É–Ω—Ç
3. **WebSocket Reconnection**: Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è, –Ω–æ –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å —Å–æ–±—ã—Ç–∏—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä—ã–≤–∞
4. **Chat Names**: –ò–º–µ–Ω–∞ —á–∞—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (Worker:9090/metrics)
- `telegram_connection_status`: –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram (1=OK, 0=Down)
- `outbox_processed_total`: –°—á–µ—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ —Å—Ç–∞—Ç—É—Å–∞–º)
- `adapter_latency_seconds`: –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–ª–µ—Ä—Ç—ã
- `telegram_connection_status == 0 for 5 minutes` ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Slack
- `outbox_processed_total{status="failed"} > 10 in 5 minutes` ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Slack

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–§–∞–∑–∞ 2)

1. **Typing Indicators** (2.1)
   - –ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä: "–Ø –ø–µ—á–∞—Ç–∞—é..."
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –≤ UI

2. **Read Receipts** (2.2)
   - –ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä: "–Ø –ø—Ä–æ—á–∏—Ç–∞–ª —Å–æ–æ–±—â–µ–Ω–∏–µ"
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ "read" (—Å–∏–Ω–∏–µ –≥–∞–ª–æ—á–∫–∏)

3. **Message Search** (2.3)
   - Full-text search –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
   - –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ, –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ, —Å—Ç–∞—Ç—É—Å—É

4. **Assignment UI** (2.4)
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —á–∞—Ç–æ–≤ –∞–≥–µ–Ω—Ç–∞–º
   - –§–∏–ª—å—Ç—Ä—ã: "–ú–æ–∏ —á–∞—Ç—ã", "–ù–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ", "–í—Å–µ"

5. **Bulk Actions** (2.5)
   - –ú–∞—Å—Å–æ–≤–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
   - –ú–∞—Å—Å–æ–≤–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–∞—Ç–æ–≤

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

- [x] –ü–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Render (Starter) –¥–ª—è API –∏ Worker
- [x] –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î —Å–æ–∑–¥–∞–Ω—ã
- [x] –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] WebSocket —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Telegram –ø–æ–¥–∫–ª—é—á–µ–Ω
- [x] –ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Debug-–ª–æ–≥–∏ —É–¥–∞–ª–µ–Ω—ã
- [x] –ú–µ—Ä—Ç–≤—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- [ ] Grafana –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (–§–∞–∑–∞ 4.1)
- [ ] –ê–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–§–∞–∑–∞ 4.1)
- [ ] Backup –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–§–∞–∑–∞ 4.1)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é
- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `IF NOT EXISTS`)
- Frontend –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π)

**–ê–≤—Ç–æ—Ä:** AI Assistant (Claude Sonnet 4.5)  
**–î–∞—Ç–∞:** 27 –æ–∫—Ç—è–±—Ä—è 2025


